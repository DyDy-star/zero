============================================================
高熵问题中Token比例分析
============================================================

加载 v1 数据...
  - Step 1...
  - Step 2...
  - Step 3...
  - Step 4...
  - Step 5...
  总问题数: 9140
  总token数: 964763

加载 v2 数据...
  - Step 1...
  - Step 2...
  - Step 3...
  - Step 4...
  - Step 5...
  总问题数: 10067
  总token数: 865567

加载 v3 数据...
  - Step 1...
  - Step 2...
  - Step 3...
  - Step 4...
  - Step 5...
  总问题数: 10122
  总token数: 722022

============================================================
计算阈值
============================================================

V1:
  Token熵80%分位数: 2.7500
  问题平均熵80%分位数: 1.7145
  Token总数: 964763
  问题总数: 9140

V2:
  Token熵80%分位数: 2.3750
  问题平均熵80%分位数: 1.5531
  Token总数: 865567
  问题总数: 10067

V3:
  Token熵80%分位数: 2.0000
  问题平均熵80%分位数: 1.3175
  Token总数: 722022
  问题总数: 10122

============================================================
分析高熵问题中的token比例
============================================================

处理 V1...
  高熵问题数: 1828
  平均高熵token比例: 0.3908 (39.08%)
  平均低熵token比例: 0.6092 (60.92%)
  高熵token比例中位数: 0.3437
  高熵token比例标准差: 0.1697

  高熵token比例分布:
    0.0-0.1: 7 (0.4%)
    0.1-0.2: 71 (3.9%)
    0.2-0.3: 573 (31.3%)
    0.3-0.4: 515 (28.2%)
    0.4-0.5: 269 (14.7%)
    0.5-0.6: 166 (9.1%)
    0.6-0.7: 104 (5.7%)
    0.7-0.8: 56 (3.1%)
    0.8-0.9: 35 (1.9%)
    0.9-1.0: 32 (1.8%)

处理 V2...
  高熵问题数: 2014
  平均高熵token比例: 0.4290 (42.90%)
  平均低熵token比例: 0.5710 (57.10%)
  高熵token比例中位数: 0.3761
  高熵token比例标准差: 0.1747

  高熵token比例分布:
    0.0-0.1: 0 (0.0%)
    0.1-0.2: 23 (1.1%)
    0.2-0.3: 410 (20.4%)
    0.3-0.4: 695 (34.5%)
    0.4-0.5: 387 (19.2%)
    0.5-0.6: 193 (9.6%)
    0.6-0.7: 121 (6.0%)
    0.7-0.8: 64 (3.2%)
    0.8-0.9: 57 (2.8%)
    0.9-1.0: 64 (3.2%)

处理 V3...
  高熵问题数: 2025
  平均高熵token比例: 0.4165 (41.65%)
  平均低熵token比例: 0.5835 (58.35%)
  高熵token比例中位数: 0.3750
  高熵token比例标准差: 0.1490

  高熵token比例分布:
    0.0-0.1: 0 (0.0%)
    0.1-0.2: 11 (0.5%)
    0.2-0.3: 347 (17.1%)
    0.3-0.4: 815 (40.2%)
    0.4-0.5: 418 (20.6%)
    0.5-0.6: 212 (10.5%)
    0.6-0.7: 97 (4.8%)
    0.7-0.8: 56 (2.8%)
    0.8-0.9: 35 (1.7%)
    0.9-1.0: 34 (1.7%)

============================================================
探索规律
============================================================

V1 规律分析:

  规律1: 问题平均熵与高熵token比例的关系
    very_high: 平均熵=4.2814, 高熵token比例=0.7570 (75.70%)
    high: 平均熵=2.7529, 高熵token比例=0.5178 (51.78%)
    medium: 平均熵=1.9918, 高熵token比例=0.3021 (30.21%)

  规律2: 问题长度与高熵token比例的关系
    short: 平均长度=36.2 tokens, 高熵token比例=0.3973 (39.73%)
    medium: 平均长度=92.1 tokens, 高熵token比例=0.3551 (35.51%)
    long: 平均长度=385.1 tokens, 高熵token比例=0.4218 (42.18%)

  规律3: 相关性分析
    问题平均熵 vs 高熵token比例: r=0.9151
    问题长度 vs 高熵token比例: r=0.1981

V2 规律分析:

  规律1: 问题平均熵与高熵token比例的关系
    very_high: 平均熵=4.8526, 高熵token比例=0.8274 (82.74%)
    high: 平均熵=2.5559, 高熵token比例=0.5466 (54.66%)
    medium: 平均熵=1.8038, 高熵token比例=0.3383 (33.83%)
Traceback (most recent call last):
  File "/data/user5/R-Zero/analyze_token_entropy_ratio.py", line 562, in <module>
    main()
  File "/data/user5/R-Zero/analyze_token_entropy_ratio.py", line 542, in main
    patterns = find_patterns(results)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/data/user5/R-Zero/analyze_token_entropy_ratio.py", line 214, in find_patterns
    'long': [a for a in analyses if a['total_tokens'] >= np.percentile([a['total_tokens'] for a in analyses], 67)]
                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/user5/miniconda3/envs/zero/lib/python3.12/site-packages/numpy/lib/_function_base_impl.py", line 4251, in percentile
    a = np.asanyarray(a)
        ^^^^^^^^^^^^^^^^
KeyboardInterrupt
